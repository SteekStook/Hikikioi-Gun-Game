{"firstLayout":"","gdVersion":{"build":99,"major":4,"minor":0,"revision":0},"properties":{"adaptGameResolutionAtRuntime":true,"antialiasingMode":"MSAA","antialisingEnabledOnMobile":false,"folderProject":true,"orientation":"landscape","packageName":"com.example.gamename","pixelsRounding":true,"projectUuid":"86bd272c-c561-4de2-9665-3f0d539bd2db","scaleMode":"nearest","sizeOnStartupMode":"","templateSlug":"","useExternalSourceFiles":false,"version":"1.0.0","name":"Hikikioi Gun Game","description":"","author":"","windowWidth":640,"windowHeight":360,"latestCompilationDirectory":"","maxFPS":60,"minFPS":20,"verticalSync":false,"platformSpecificAssets":{},"loadingScreen":{"backgroundColor":0,"backgroundFadeInDuration":0.2,"backgroundImageResourceName":"","gdevelopLogoStyle":"light","logoAndProgressFadeInDuration":0.2,"logoAndProgressLogoFadeInDelay":0.0,"minDuration":1.3,"progressBarColor":16777215,"progressBarHeight":20.0,"progressBarMaxWidth":200.0,"progressBarMinWidth":40.0,"progressBarWidthPercent":30.0,"showGDevelopSplash":true,"showProgressBar":true},"watermark":{"placement":"bottom-left","showWatermark":true},"authorIds":[],"authorUsernames":[],"categories":[],"playableDevices":[],"extensionProperties":[],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"alwaysLoaded":false,"file":"assets/New3DBox_Front.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"New3DBox_Front","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Visuals/New3DBox_Front.png","kind":"image","metadata":"","name":"assets\\Visuals\\New3DBox_Front.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Visuals/WhiteBox.png","kind":"image","metadata":"{\"localFilePath\":\"assets/Visuals/WhiteBox.png\",\"extension\":\".png\",\"pskl\":{}}","name":"assets\\Visuals\\WhiteBox.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Crosshair.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"Crosshair","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Crosshair2.png","kind":"image","metadata":"{\"extension\":\".png\",\"localFilePath\":\"assets/Crosshair2.png\"}","name":"Crosshair2","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/CardSlots.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"CardSlots","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Selected.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"Selected","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Visuals/CardSlots.png","kind":"image","metadata":"","name":"assets\\Visuals\\CardSlots.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Visuals/Selected.png","kind":"image","metadata":"","name":"assets\\Visuals\\Selected.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Visuals/Crosshair2.png","kind":"image","metadata":"","name":"assets\\Visuals\\Crosshair2.png","smoothed":false,"userAdded":true}],"resourceFolders":[]},"objects":[],"objectsFolderStructure":{"folderName":"__ROOT"},"objectsGroups":[],"variables":[],"layouts":[{"b":209,"disableInputWhenNotFocused":true,"mangledName":"Untitled_32scene","name":"Untitled scene","r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":209,"uiSettings":{"grid":true,"gridType":"rectangular","gridWidth":8.0,"gridHeight":8.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":true,"zoomFactor":1.1306316110252617,"windowMask":false},"objectsGroups":[],"variables":[{"folded":true,"name":"MouseWheelDeltaVar","type":"number","value":0.0}],"instances":[{"angle":0.0,"customSize":true,"depth":2.0,"height":356.0,"layer":"","name":"Floor","persistentUuid":"e73c288d-5e8c-46ce-9b0e-b3cf0a14b907","width":640.0,"x":0.0,"y":0.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":16.0,"height":16.0,"layer":"","name":"Player","persistentUuid":"4b465bd1-f9c6-48d5-991a-ee908534d50a","width":16.0,"x":112.0,"y":160.0,"z":100.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Floor","persistentUuid":"0a8ee219-66d1-4a58-acc8-cb2a2f5a12b5","width":0.0,"x":636.0,"y":-100.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Floor","persistentUuid":"a20ec859-bf97-4c38-b184-fd350d0803cb","width":0.0,"x":-100.0,"y":-100.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Floor","persistentUuid":"b0197fdc-d19c-4f24-8535-bfb5f489b262","width":0.0,"x":640.0,"y":364.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Floor","persistentUuid":"ca2359f4-ab3c-4c53-bf40-8b747580c605","width":0.0,"x":-96.0,"y":352.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"Crosshair","persistentUuid":"0fbe62c4-75ff-49d3-be38-22c2206c7c35","width":0.0,"x":304.0,"y":164.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Crosshair","persistentUuid":"27f58e88-c3e1-444f-8040-660e919b384e","width":0.0,"x":368.0,"y":144.0,"zOrder":7,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Crosshair","persistentUuid":"1beec05b-85c3-4da9-bed9-00cb451243a5","width":0.0,"x":304.0,"y":96.0,"zOrder":8,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":164.0,"layer":"UI","name":"Crosshair","persistentUuid":"d6794e06-385c-401e-a95a-21eabbf379ad","width":304.0,"x":640.0,"y":-8.0,"zOrder":9,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":96.0,"layer":"UI","name":"CardSlots","persistentUuid":"716648aa-0a15-4456-96e7-1d140227b176","width":64.0,"x":168.0,"y":296.0,"zOrder":10,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":96.0,"layer":"UI","name":"CardSlots","persistentUuid":"58fed102-359d-47ad-8708-e93a1c6ff6e2","width":64.0,"x":248.0,"y":296.0,"zOrder":10,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"CardPosition","type":"number","value":1.0}]},{"angle":0.0,"customSize":true,"depth":0.0,"height":96.0,"layer":"UI","name":"CardSlots","persistentUuid":"2cbd89fa-c7e4-49fb-9291-28ffef22bbbb","width":64.0,"x":328.0,"y":296.0,"zOrder":10,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"CardPosition","type":"number","value":2.0}]},{"angle":0.0,"customSize":true,"depth":0.0,"height":96.0,"layer":"UI","name":"CardSlots","persistentUuid":"0f505089-9e31-4128-b733-d7da19c1714c","width":64.0,"x":408.0,"y":296.0,"zOrder":10,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"CardPosition","type":"number","value":3.0}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"DebugText","persistentUuid":"87c9e832-cc1c-4b8b-978e-369e9ab2d8b8","width":0.0,"x":40.0,"y":8.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"Card0","persistentUuid":"615eb013-ab56-454c-85a9-bd358b81c008","width":0.0,"x":176.0,"y":272.0,"zOrder":12,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"Card1","persistentUuid":"2dca892b-0ee0-4dff-8cd1-f9e93b518d31","width":0.0,"x":256.0,"y":272.0,"zOrder":13,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"Card3","persistentUuid":"67eeea20-a82a-4f0c-841b-470642ef8417","width":0.0,"x":424.0,"y":272.0,"zOrder":15,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"Card2","persistentUuid":"affd9989-d768-45d9-ba8b-7d01609fa551","width":0.0,"x":339.0,"y":272.0,"zOrder":16,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"DeckCount","persistentUuid":"ed67c7ea-65c2-4de0-b73e-7c38b3a3ed7f","width":0.0,"x":8.0,"y":328.0,"zOrder":17,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"DiscardCount","persistentUuid":"d2b2fd65-9bcb-4e9e-b88e-c876ecc11ad3","width":0.0,"x":592.0,"y":328.0,"zOrder":18,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","name":"Floor","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"assets\\Visuals\\New3DBox_Front.png","backFaceResourceName":"assets\\Visuals\\New3DBox_Front.png","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"assets\\Visuals\\New3DBox_Front.png","rightFaceResourceName":"assets\\Visuals\\New3DBox_Front.png","topFaceResourceName":"assets\\Visuals\\New3DBox_Front.png","bottomFaceResourceName":"assets\\Visuals\\New3DBox_Front.png","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"Player","type":"Scene3D::Cube3DObject","variables":[{"folded":true,"name":"CardSelected","type":"number","value":0.0},{"folded":true,"name":"WhichCardNext","type":"number","value":0.0},{"folded":true,"name":"DeckCount","type":"number","value":16.0},{"folded":true,"name":"DiscardCount","type":"number","value":0.0},{"name":"CardHand","type":"array","children":[{"type":"string","value":"0"},{"folded":true,"type":"string","value":"0"},{"type":"string","value":"0"},{"folded":true,"type":"string","value":"0"}]},{"name":"DeckPile","type":"structure","children":[{"folded":true,"name":"BasicShot","type":"number","value":3.0},{"folded":true,"name":"BigShot","type":"number","value":4.0},{"folded":true,"name":"Dash","type":"number","value":2.0},{"folded":true,"name":"Heal","type":"number","value":2.0},{"folded":true,"name":"SniperShot","type":"number","value":5.0}]}],"effects":[],"behaviors":[{"name":"Walk3D","type":"Walk3D::Walk3D","RotationSpeedMax":180.0,"RotationAcceleration":720.0,"RotationDeceleration":720.0,"TranslationSpeedMax":400.0,"TranslationAcceleration":2400.0,"TranslationDeceleration":1600.0,"CurrentRotationSpeed":0.0,"PreviousRotationSpeed":0.0,"CurrentForwardSpeed":0.0,"CurrentSidewaysSpeed":0.0,"PreviousForwardSpeed":0.0,"PreviousSidewaysSpeed":0.0,"HasPressedTurnLeft":false,"HasPressedTurnRight":false,"HasPressedTurnLeftLast":false,"HadPressedTurnLeft":false,"HadPressedTurnRight":false,"HasPressedMoveForward":false,"HasPressedMoveBackward":false,"HadPressedMoveForward":false,"HadPressedMoveBackward":false,"HasPressedMoveBackwardLast":false,"HasPressedMoveLeft":false,"HasPressedMoveRight":false,"HadPressedMoveLeft":false,"HadPressedMoveRight":false,"HasPressedMoveLeftLast":false,"TargetedForwardSpeed":0.0,"TargetedSidewaysSpeed":0.0,"TargetedRotationSpeed":0.0}],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"assets\\Visuals\\WhiteBox.png","backFaceResourceName":"assets\\Visuals\\WhiteBox.png","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"assets\\Visuals\\WhiteBox.png","rightFaceResourceName":"assets\\Visuals\\WhiteBox.png","topFaceResourceName":"assets\\Visuals\\WhiteBox.png","bottomFaceResourceName":"assets\\Visuals\\WhiteBox.png","frontFaceVisible":true,"backFaceVisible":true,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"adaptCollisionMaskAutomatically":false,"assetStoreId":"","name":"Crosshair","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"Crosshair","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\Visuals\\Crosshair2.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"CardSlots","type":"Sprite","updateIfNotVisible":false,"variables":[{"name":"CardPosition","type":"number","value":0.0}],"effects":[],"behaviors":[],"animations":[{"name":"Unselected","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\Visuals\\CardSlots.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":64.0,"y":0.0},{"x":64.0,"y":64.0},{"x":0.0,"y":64.0}]]}]}]},{"name":"Selected","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\Visuals\\Selected.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":64.0,"y":0.0},{"x":64.0,"y":64.0},{"x":0.0,"y":64.0}]]}]}]}]},{"assetStoreId":"","bold":false,"italic":false,"name":"DebugText","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[{"effectType":"Outline","name":"Effect","doubleParameters":{"padding":0.0,"thickness":2.0},"stringParameters":{"color":"255;255;255"},"booleanParameters":{}}],"behaviors":[],"string":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bold":false,"italic":false,"name":"Card0","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bold":false,"italic":false,"name":"Card1","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bold":false,"italic":false,"name":"Card3","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bold":false,"italic":false,"name":"Card2","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bold":false,"italic":false,"name":"DeckCount","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bold":false,"italic":false,"name":"DiscardCount","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"left","characterSize":20.0,"color":"0;0;0"}}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"folderName":"UI","children":[{"objectName":"Crosshair"},{"objectName":"CardSlots"},{"objectName":"DebugText"},{"objectName":"Card0"},{"objectName":"Card1"},{"objectName":"Card2"},{"objectName":"Card3"},{"objectName":"DeckCount"},{"objectName":"DiscardCount"}]},{"objectName":"Floor"},{"objectName":"Player"}]},"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"SetWindowSize"},"parameters":["","1280","720",""]},{"type":{"value":"CenterWindow"},"parameters":[""]},{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["Crosshair","Opacity","=","200"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Player","\"ReloadTime\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FirstPersonCamera::LookFromObjectEyes"},"parameters":["","Player","",""]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Player","Object3D","+","MousePointerLock::MovementY() / 10"]},{"type":{"value":"Scene3D::Base3DBehavior::SetRotationY"},"parameters":["Player","Object3D","=","clamp(Player.Object3D::RotationY(), -90, 90)"]},{"type":{"value":"SetAngle"},"parameters":["Player","+","MousePointerLock::MovementX() / 6"]},{"type":{"value":"ModVarScene"},"parameters":["MouseWheelDeltaVar","=","MouseWheelDelta()"]},{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["DebugText","Text","=","Player.DeckPile.Heal"]},{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Card0","Text","=","Player.CardHand[0]"]},{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Card1","Text","=","Player.CardHand[1]"]},{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Card2","Text","=","Player.CardHand[2]"]},{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Card3","Text","=","Player.CardHand[3]"]},{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["DeckCount","Text","=","Player.DeckCount"]},{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["DiscardCount","Text","=","Player.DiscardCount"]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Player","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Controls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","\"r\""]}],"actions":[{"type":{"value":"Scene"},"parameters":["","\"Untitled scene\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","\"o\""]}],"actions":[{"type":{"value":"MousePointerLock::RequestPointerLock"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","\"p\""]}],"actions":[{"type":{"value":"MousePointerLock::ExitPointerLock"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","\"w\""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveForwardKey"},"parameters":["Player","Walk3D",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","\"s\""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveBackwardKey"},"parameters":["Player","Walk3D",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","\"a\""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveLeftKey"},"parameters":["Player","Walk3D",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","\"d\""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SimulateMoveRightKey"},"parameters":["Player","Walk3D",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::TranslationSpeedMax"},"parameters":["Player","Walk3D",">","400",""]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetTranslationSpeedMax"},"parameters":["Player","Walk3D","=","400",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["MouseWheelDeltaVar",">","1"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","CardSelected","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["MouseWheelDeltaVar","<","-1"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","CardSelected","+","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"MouseButtonFromTextReleased"},"parameters":["","\"Left\""]},{"type":{"value":"CompareObjectTimer"},"parameters":["Player","\"ReloadTime\"",">=","0.5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","CardSelected","=","0"]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[0]","!=","\"0\""]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"0\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DiscardCount","+","1"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Player","\"ReloadTime\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","CardSelected","=","1"]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[1]","!=","\"0\""]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"0\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DiscardCount","+","1"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Player","\"ReloadTime\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","CardSelected","=","2"]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[2]","!=","\"0\""]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"0\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DiscardCount","+","1"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Player","\"ReloadTime\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","CardSelected","=","3"]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[3]","!=","\"0\""]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"0\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DiscardCount","+","1"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Player","\"ReloadTime\""]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ReloadAndReshuffle","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Player","\"ReloadTime\"","<","0.5"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["CardSlots","\"163;163;163\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareObjectTimer"},"parameters":["Player","\"ReloadTime\"","<","0.5"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["CardSlots","\"255;255;255\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal","<=","0"]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"0\""]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"0\""]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"0\""]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"0\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareObjectTimer"},"parameters":["Player","\"ReshuffleTime\"",">","3"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["CardSlots","\"24;24;24\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Player","\"ReshuffleTime\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Player","\"ReshuffleTime\"",">","3"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["CardSlots","\"255;255;255\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BasicShot","=","3"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BigShot","=","4"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.SniperShot","=","5"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Dash","=","2"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Heal","=","2"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DiscardCount","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","=","16"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"CardStuff","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"CardSelect","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","CardSelected",">=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","CardSelected","=","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","CardSelected","<=","-1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","CardSelected","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["CardSlots","CardPosition","=","Player.CardSelected"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["CardSlots","Animation","=","\"Selected\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["CardSlots","CardPosition","!=","Player.CardSelected"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["CardSlots","Animation","=","\"Unselected\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"CardHand","source":"","type":"BuiltinCommonInstructions::Group","events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"0\""]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"0\""]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"0\""]},{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"0\""]}]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"0\""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"BasicShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BasicShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"BigShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BigShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","2"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"SniperShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.SniperShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"Dash\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Dash","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","4"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[0]","=","\"Heal\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Heal","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"0\""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"BasicShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BasicShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"BigShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BigShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","2"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"SniperShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.SniperShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"Dash\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Dash","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","4"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[1]","=","\"Heal\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Heal","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"0\""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"BasicShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BasicShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"BigShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BigShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","2"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"SniperShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.SniperShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"Dash\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Dash","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","4"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[2]","=","\"Heal\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Heal","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"0\""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"BasicShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BasicShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BasicShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"BigShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.BigShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.BigShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","2"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"SniperShot\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.SniperShot","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.SniperShot","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"Dash\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Dash","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Dash","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","WhichCardNext","=","4"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal",">","0"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","CardHand[3]","=","\"Heal\""]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckPile.Heal","-","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Player","DeckCount","-","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Player","DeckPile.Heal","<=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","WhichCardNext","=","RandomInRange(0,4)"]}]}]}]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"parameters":[]}],"parameters":[]}],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":80.0,"camera3DNearPlaneDistance":3.0,"cameraType":"perspective","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"UI","renderingType":"","visibility":true,"cameras":[],"effects":[]}],"behaviorsSharedData":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Object3D","type":"Scene3D::Base3DBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"},{"name":"Walk3D","type":"Walk3D::Walk3D","Cos":0.0,"Sin":0.0}]}],"externalEvents":[],"eventsFunctionsExtensions":[{"author":"PANDAKO-GitHub","category":"Input","extensionNamespace":"","fullName":"Mouse Pointer Lock","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMTksMTkgMjQsMTkgMjQsMjQgIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSI2LDIzIDExLDIzIDExLDE4ICIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI0LDE5LjRjLTAuNywwLjgtMS40LDEuNi0yLjIsMi40Yy03LDctMTUuMywxMC4yLTE4LjUsN3MtMC4xLTExLjUsNy0xOC41czE1LjMtMTAuMiwxOC41LTcNCgljMS40LDEuNCwxLjYsMy42LDAuOCw2LjMiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMSwyMi41Yy0wLjMtMC4yLTAuNS0wLjUtMC44LTAuOGMtNy03LTEwLjItMTUuMy03LTE4LjVzMTEuNS0wLjEsMTguNSw3czEwLjIsMTUuMyw3LDE4LjUNCgljLTEuNywxLjctNC44LDEuNi04LjQsMC4xIi8+DQo8L3N2Zz4NCg==","name":"MousePointerLock","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Virtual Reality/Virtual Reality_360_rotate_vr_movement.svg","shortDescription":"This behavior removes the limit on the distance the mouse can move and hides the cursor.","version":"0.1.6","description":["This behavior removes the limit on the distance the mouse can move and hides the cursor.","","For example, a user can rotate or continue to manipulate an object by moving the mouse endlessly ([open the project online](https://editor.gdevelop.io/?project=example://mouse-pointer-lock)).","Without the pointer lock, the rotation or operation will stop the moment the pointer reaches the edge of the browser or screen.","","Game players don't have to worry about leaving the gameplay area or accidentally clicking on another application that moves the mouse focus away from the game.","","Locking the pointer locks `CursorX()` and `CursorY()` expressions.","Use `MovementX()` and `MovementY()` instead.",""],"origin":{"identifier":"MousePointerLock","name":"gdevelop-extension-store"},"tags":["mouse","lock","cursor","pointer"],"authorIds":["Zu55H5hcb9YmZTltIVOTAFDJQyB2"],"dependencies":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const canvas = runtimeScene.getGame().getRenderer().getCanvas();","","gdjs._MousePointerLockExtension = {};","gdjs._MousePointerLockExtension.movement = { x: 0, y: 0 };","","canvas.addEventListener(\"pointermove\", (e) => {","    gdjs._MousePointerLockExtension.movement.x += e.movementX || 0;","    gdjs._MousePointerLockExtension.movement.y += e.movementY || 0;","}, false);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._MousePointerLockExtension.movement = { x: 0, y: 0 };","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Get the movement of the pointer on the X-axis.","fullName":"Pointer X movement","functionType":"Expression","name":"MovementX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs._MousePointerLockExtension.movement.x || 0;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Get the movement of the pointer on the Y-axis.","fullName":"Pointer Y movement","functionType":"Expression","name":"MovementY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs._MousePointerLockExtension.movement.y || 0;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Lock the mouse pointer to hide it.","fullName":"Request Pointer Lock","functionType":"Action","name":"RequestPointerLock","sentence":"Request Pointer Lock","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const canvas = runtimeScene.getGame().getRenderer().getCanvas();\r","if (canvas.requestPointerLock) {\r","    canvas.requestPointerLock({ unadjustedMovement: true });\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Unlocks the mouse pointer and show it.","fullName":"Exit pointer lock","functionType":"Action","name":"ExitPointerLock","sentence":"Exit pointer lock","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (document.exitPointerLock) {\r","    document.exitPointerLock();\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Check if the mouse pointer is locked.","fullName":"Pointer is locked","functionType":"Condition","name":"isPointerLocked","sentence":"The mouse pointer is locked","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = document.pointerLockElement ? true : false;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"Movement","extensionNamespace":"","fullName":"3D walk","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXdhbGsiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTQuMTIsMTBIMTlWOC4ySDE1LjM4TDEzLjM4LDQuODdDMTMuMDgsNC4zNyAxMi41NCw0LjAzIDExLjkyLDQuMDNDMTEuNzQsNC4wMyAxMS41OCw0LjA2IDExLjQyLDQuMTFMNiw1LjhWMTFINy44VjcuMzNMOS45MSw2LjY3TDYsMjJINy44TDEwLjY3LDEzLjg5TDEzLDE3VjIySDE0LjhWMTUuNTlMMTIuMzEsMTEuMDVMMTMuMDQsOC4xOE0xNCwzLjhDMTUsMy44IDE1LjgsMyAxNS44LDJDMTUuOCwxIDE1LDAuMiAxNCwwLjJDMTMsMC4yIDEyLjIsMSAxMi4yLDJDMTIuMiwzIDEzLDMuOCAxNCwzLjhaIiAvPjwvc3ZnPg==","name":"Walk3D","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/941323cf01b837b2eb512ecbf0a95add8a195b3696eb6f5865dc090e526dc9b3_walk.svg","shortDescription":"Turn and move objects forward and sideways.","version":"0.1.0","description":"Move objects forward and sideways arrording to the direction they're facing.","origin":{"identifier":"Walk3D","name":"gdevelop-extension-store"},"tags":["3d"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2","oc974hW1zSYZfAnRbpKoXizqc1D3","3qThSVKAPdP03MXTWNpe2QaNxpv1"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Turn and move objects forward and sideways.","fullName":"3D walk","name":"Walk3D","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Rotation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyPreviousRotationSpeed"},"parameters":["Object","Behavior","=","CurrentRotationSpeed"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeft"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnRight"},"parameters":["Object","Behavior"]},{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeftLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","-RotationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnRight"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeft"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeftLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","RotationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior","<=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","max(CurrentRotationSpeed - RotationAcceleration * TimeDelta(), TargetedRotationSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","max(CurrentRotationSpeed - (RotationAcceleration + RotationDeceleration) * TimeDelta(), TargetedRotationSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedRotationSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","min(CurrentRotationSpeed + RotationAcceleration * TimeDelta(), TargetedRotationSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","min(CurrentRotationSpeed + (RotationAcceleration + RotationDeceleration) * TimeDelta(), TargetedRotationSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","max(CurrentRotationSpeed - RotationDeceleration * TimeDelta(), 0)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousRotationSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","min(CurrentRotationSpeed + RotationDeceleration * TimeDelta(), 0)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","+","(PreviousRotationSpeed + CurrentRotationSpeed) / 2 * TimeDelta()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedTurnLeft"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedTurnLeft"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedTurnRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedTurnRight"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedTurnRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedTurnRight"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnLeft"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnRight"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Translation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Forward","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyPreviousForwardSpeed"},"parameters":["Object","Behavior","=","CurrentForwardSpeed"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveBackward"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveForward"},"parameters":["Object","Behavior"]},{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveBackwardLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","-TranslationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveForward"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveBackward"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveBackwardLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","TranslationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior","<=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","max(CurrentForwardSpeed - TranslationAcceleration * TimeDelta(), TargetedForwardSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","max(CurrentForwardSpeed - (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedForwardSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedForwardSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","min(CurrentForwardSpeed + TranslationAcceleration * TimeDelta(), TargetedForwardSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","min(CurrentForwardSpeed + (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedForwardSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","max(CurrentForwardSpeed - TranslationDeceleration * TimeDelta(), 0)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousForwardSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","min(CurrentForwardSpeed + TranslationDeceleration * TimeDelta(), 0)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHadPressedMoveBackward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveBackward"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveBackward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveBackward"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveForward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveForward"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveForward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveForward"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveBackward"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveForward"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Sideways","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior","=","CurrentSidewaysSpeed"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveLeft"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveRight"},"parameters":["Object","Behavior"]},{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveLeftLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","-TranslationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveRight"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveLeft"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveLeftLast"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","TranslationSpeedMax"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior","<=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","max(CurrentSidewaysSpeed - TranslationAcceleration * TimeDelta(), TargetedSidewaysSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","max(CurrentSidewaysSpeed - (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedSidewaysSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","min(CurrentSidewaysSpeed + TranslationAcceleration * TimeDelta(), TargetedSidewaysSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","min(CurrentSidewaysSpeed + (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedSidewaysSpeed)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","max(CurrentSidewaysSpeed - TranslationDeceleration * TimeDelta(), 0)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","min(CurrentSidewaysSpeed + TranslationDeceleration * TimeDelta(), 0)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHadPressedMoveLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveLeft"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveLeft"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Walk3D::Walk3D::PropertyHasPressedMoveRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveRight"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHasPressedMoveRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHadPressedMoveRight"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveLeft"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveRight"},"parameters":["Object","Behavior","no"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreAutour"},"parameters":["Object","Object","(PreviousForwardSpeed + CurrentForwardSpeed) / 2 * TimeDelta()","Object.Angle()"]},{"type":{"value":"MettreAutour"},"parameters":["Object","Object","(PreviousSidewaysSpeed + CurrentSidewaysSpeed) / 2 * TimeDelta()","Object.Angle() + 90"]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the turn left key.","fullName":"Simulate turn left key press","functionType":"Action","group":"Top-down walk state","name":"SimulateTurnLeftKey","sentence":"Simulate pressing turn left key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedTurnLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnLeftLast"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnLeft"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the turn right key.","fullName":"Simulate turn right key press","functionType":"Action","group":"Top-down walk state","name":"SimulateTurnRightKey","sentence":"Simulate pressing turn right key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedTurnRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnLeftLast"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedTurnRight"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the move backward key.","fullName":"Simulate move backward key press","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveBackwardKey","sentence":"Simulate pressing move backward key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveBackward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveBackwardLast"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveBackward"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the move forward key.","fullName":"Simulate move forward key press","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveForwardKey","sentence":"Simulate pressing move forward key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveForward"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveBackwardLast"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveForward"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the move left key.","fullName":"Simulate move left key press","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveLeftKey","sentence":"Simulate pressing move left key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveLeft"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveLeftLast"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveLeft"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a press of the move right key.","fullName":"Simulate move right key press","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveRightKey","sentence":"Simulate pressing move right key for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Walk3D::Walk3D::PropertyHadPressedMoveRight"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveLeftLast"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyHasPressedMoveRight"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"Simulate a stick control.","fullName":"Simulate stick control","functionType":"Action","group":"Top-down walk state","name":"SimulateMoveStick","sentence":"Simulate a stick control for _PARAM0_ with a _PARAM2_ angle and a _PARAM3_ force","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Denormilize the targeted speed.\nIt projects the circle on a square with sides length of the circle diameter."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetSharedPropertyCos"},"parameters":["Object","Behavior","=","cos(ToRad(-Angle))"]},{"type":{"value":"Walk3D::Walk3D::SetSharedPropertySin"},"parameters":["Object","Behavior","=","sin(ToRad(-Angle))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["abs(Cos)",">=","abs(Sin)"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","Force * TranslationSpeedMax * sign(Cos)"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","Force * TranslationSpeedMax * Sin / abs(Cos)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["abs(Cos)","<=","abs(Sin)"]}],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"},"parameters":["Object","Behavior","=","Force * TranslationSpeedMax * Cos / abs(Sin)"]},{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"},"parameters":["Object","Behavior","=","Force * TranslationSpeedMax * sign(Sin)"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"},{"description":"Stick angle (in degrees)","name":"Angle","type":"expression"},{"description":"Stick force (between 0 and 1)","name":"Force","type":"expression"}],"objectGroups":[]},{"description":"Simulate a stick control for rotation.","fullName":"Simulate stick control for rotation","functionType":"Action","group":"Top-down walk state","name":"SimulateRotationStick","sentence":"Simulate a stick control for rotation of _PARAM0_ with an axis value of _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"},"parameters":["Object","Behavior","=","Value * RotationSpeedMax"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"},{"description":"Axis value (between -1 and 1)","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"the current rotation speed of the object.","fullName":"Current rotation speed","functionType":"ExpressionAndCondition","group":"Top-down walk state","name":"CurrentRotationSpeed","sentence":"the current rotation speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurrentRotationSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"CurrentRotationSpeed","name":"SetCurrentRotationSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the current forward speed of the object.","fullName":"Current forward speed","functionType":"ExpressionAndCondition","group":"Top-down walk state","name":"CurrentForwardSpeed","sentence":"the current forward speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurrentForwardSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"CurrentForwardSpeed","name":"SetCurrentForwardSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the current sideways speed of the object.","fullName":"Current sideways speed","functionType":"ExpressionAndCondition","group":"Top-down walk state","name":"CurrentSidewaysSpeed","sentence":"the current sideways speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurrentSidewaysSpeed"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"CurrentSidewaysSpeed","name":"SetCurrentSidewaysSpeed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the maximum rotation speed of the object.","fullName":"Maximum rotation speed","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"RotationSpeedMax","sentence":"the maximum rotation speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationSpeedMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationSpeedMax","name":"SetRotationSpeedMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyRotationSpeedMax"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the rotation acceleration of the object.","fullName":"Rotation acceleration","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"RotationAcceleration","sentence":"the rotation acceleration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationAcceleration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationAcceleration","name":"SetRotationAcceleration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyRotationAcceleration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the rotation deceleration of the object.","fullName":"Rotation deceleration","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"RotationDeceleration","sentence":"the rotation deceleration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationDeceleration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationDeceleration","name":"SetRotationDeceleration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyRotationDeceleration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the maximum speed of the object.","fullName":"Maximum speed","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"TranslationSpeedMax","sentence":"the maximum speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TranslationSpeedMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TranslationSpeedMax","name":"SetTranslationSpeedMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTranslationSpeedMax"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the acceleration of the object.","fullName":"Acceleration","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"TranslationAcceleration","sentence":"the acceleration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TranslationAcceleration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TranslationAcceleration","name":"SetTranslationAcceleration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTranslationAcceleration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"description":"the deceleration of the object.","fullName":"Deceleration","functionType":"ExpressionAndCondition","group":"Top-down walk configuration","name":"TranslationDeceleration","sentence":"the deceleration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TranslationDeceleration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TranslationDeceleration","name":"SetTranslationDeceleration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Walk3D::Walk3D::SetPropertyTranslationDeceleration"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Walk3D::Walk3D","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"180","type":"Number","unit":"AngularSpeed","label":"Maximum rotation speed","description":"","group":"Rotation","extraInformation":[],"name":"RotationSpeedMax"},{"value":"720","type":"Number","label":"Rotation acceleration","description":"","group":"Rotation","extraInformation":[],"name":"RotationAcceleration"},{"value":"720","type":"Number","label":"Rotation deceleration","description":"","group":"Rotation","extraInformation":[],"name":"RotationDeceleration"},{"value":"400","type":"Number","unit":"PixelSpeed","label":"Maximum speed","description":"","group":"","extraInformation":[],"name":"TranslationSpeedMax"},{"value":"1600","type":"Number","unit":"PixelAcceleration","label":"Acceleration","description":"","group":"","extraInformation":[],"name":"TranslationAcceleration"},{"value":"1600","type":"Number","unit":"PixelAcceleration","label":"Deceleration","description":"","group":"","extraInformation":[],"name":"TranslationDeceleration"},{"value":"0","type":"Number","unit":"AngularSpeed","label":"Current rotation speed","description":"","group":"","extraInformation":[],"hidden":true,"name":"CurrentRotationSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousRotationSpeed"},{"value":"0","type":"Number","unit":"PixelSpeed","label":"Current forward speed","description":"","group":"","extraInformation":[],"hidden":true,"name":"CurrentForwardSpeed"},{"value":"0","type":"Number","unit":"PixelSpeed","label":"Current sideways speed","description":"","group":"","extraInformation":[],"hidden":true,"name":"CurrentSidewaysSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousForwardSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousSidewaysSpeed"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedTurnLeft"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedTurnRight"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedTurnLeftLast"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedTurnLeft"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedTurnRight"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveForward"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveBackward"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedMoveForward"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedMoveBackward"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveBackwardLast"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveLeft"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveRight"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedMoveLeft"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HadPressedMoveRight"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasPressedMoveLeftLast"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TargetedForwardSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TargetedSidewaysSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TargetedRotationSpeed"}],"sharedPropertyDescriptors":[{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Cos"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"name":"Sin"}]}],"eventsBasedObjects":[]},{"author":"","category":"Movement","extensionNamespace":"","fullName":"Top-down corner sliding","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXN1YmRpcmVjdG9yeS1hcnJvdy1yaWdodCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xOSwxNUwxMywyMUwxMS41OCwxOS41OEwxNS4xNywxNkg0VjRINlYxNEgxNS4xN0wxMS41OCwxMC40MkwxMyw5TDE5LDE1WiIgLz48L3N2Zz4=","name":"TopDownCornerSliding","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/f1e89ff4f907ed2245e2d4ad2d5f52f9e1bb6d0127aa370d44cc77462e5be8e3_subdirectory-arrow-right.svg","shortDescription":"Slide on corners of rectangular obstacles.","version":"0.1.0","description":["In top-down games, players may have to go though gaps the same size as their avatar. This is almost impossible to do without any assistance. This extension makes objects slide on obstacles to lead them in the right direction.","","It's used in these examples:","* a 3D Bomberman-like game ([open the project online](https://editor.gdevelop.io/?project=example://3d-bomber-bunny))","* a 2D Bomberman-like game ([open the project online](https://editor.gdevelop.io/?project=example://goose-bomberman))",""],"origin":{"identifier":"TopDownCornerSliding","name":"gdevelop-extension-store"},"tags":["top-down","movement","grid","align"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Define JavaScript classes for top-down.","fullName":"Define JavaScript classes for top-down","functionType":"Action","name":"DefineJavaScriptForTopDown","private":true,"sentence":"Define JavaScript classes  for top-down","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["__pixelPerfect.TopDownClassesDefined",""]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["__pixelPerfect.TopDownClassesDefined","True"]}],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// TODO Remove this when afterPositionUpdate is added to the hook interface.","gdjs.TopDownMovementRuntimeBehavior.prototype.actuallyDoStepPreEvents = gdjs.TopDownMovementRuntimeBehavior.prototype.doStepPreEvents;","gdjs.TopDownMovementRuntimeBehavior.prototype.doStepPreEvents = function (instanceContainer) {","    this.actuallyDoStepPreEvents(instanceContainer);","","    for (const topDownMovementHook of this._topDownMovementHooks) {","        topDownMovementHook.afterPositionUpdateTODO(null);","    }","}","","const deltasX = [1, 1, 0, -1, -1, -1, 0, 1];","const deltasY = [0, 1, 1, 1, 0, -1, -1, -1];","const temporaryPointForTransformations = [0, 0];","const epsilon = 0.015625;","","/**"," * {number} a"," * {number} b"," * {return {boolean}}"," */","const almostEquals = function (a, b) {","    return b - epsilon < a && a < b + epsilon;","}","","const CornerSlider =  /** @class */ (function () {","","    /**","     * @param {gdjs.RuntimeInstanceContainer} instanceContainer","     * @param {gdjs.RuntimeBehavior} behavior","     * @param {gdjs.TopDownMovementRuntimeBehavior} topDownBehavior","     */","    function CornerSlider(instanceContainer, behavior, topDownBehavior) {","        this.instanceContainer = instanceContainer;","        this.behavior = behavior;","        this.topDownBehavior = topDownBehavior;","","        topDownBehavior.registerHook(this);","","        /**","         * Obstacles near the object, updated with _updatePotentialCollidingObjects.","         * @type {Obstacle[]}","         */","        this.potentialCollidingObjects = [];","        /** @type {gdjs.RuntimeObject[]} */","        this.collidingObjects = [];","        this.obstacleManager = ObstacleManager.getManager(instanceContainer);","","        // Remember the decision to bypass an obstacle...","        this.lastAnyObstacle = false;","        this.needToCheckBypassWay = true;","","        // ...and the context of that decision","        this.lastAssistanceDirection = -1;","        this.lastDirection = -1;","","        /** @type {FloatPoint} */","        this.transformedPosition = [0, 0];","        /** @type {gdjs.AABB} */","        this.relativeHitBoxesAABB = { min: [0, 0], max: [0, 0] };","        /** @type {gdjs.AABB} */","        this.absoluteHitBoxesAABB = { min: [0, 0], max: [0, 0] };","        this.hitBoxesAABBUpToDate = false;","        this.oldWidth = 0;","        this.oldHeight = 0;","        this.previousX = 0;","        this.previousY = 0;","","        /** @type {AssistanceResult} */","        this.result = new AssistanceResult();","    }","","    /**","     * Return the direction to use instead of the direction given in","     * parameter.","     * @param {gdjs.TopDownMovementRuntimeBehavior.TopDownMovementHookContext} context","     * @return {number}","     */","    CornerSlider.prototype.overrideDirection = function (context) {","        let direction = context.getDirection();","        if (!this.behavior.activated()) {","            return direction;","        }","","        const object = this.topDownBehavior.owner;","        // Check if the object has moved","        // To avoid to loop on the transform and its inverse","        // because of float approximation.","        const position = temporaryPointForTransformations;","        // TODO Handle isometry","        // if (this.topDownBehavior._basisTransformation) {","        //   this.topDownBehavior._basisTransformation.toScreen(","        //     this.transformedPosition,","        //     position","        //   );","        // } else {","        position[0] = this.transformedPosition[0];","        position[1] = this.transformedPosition[1];","        // }","        if (object.getX() !== position[0] || object.getY() !== position[1]) {","            position[0] = object.getX();","            position[1] = object.getY();","            // TODO Handle isometry","            // if (this.topDownBehavior._basisTransformation) {","            //   this.topDownBehavior._basisTransformation.toWorld(","            //     position,","            //     this.transformedPosition","            //   );","            // } else {","            this.transformedPosition[0] = position[0];","            this.transformedPosition[1] = position[1];","            // }","        }","","        const stickIsUsed =","            this.topDownBehavior._stickForce !== 0 && direction === -1;","        let inputDirection = 0;","        if (stickIsUsed) {","            inputDirection = this.getStickDirection();","        } else {","            inputDirection = direction;","        }","        const assistanceDirection = this.suggestDirection(","            inputDirection","        );","        if (assistanceDirection !== -1) {","            if (stickIsUsed) {","                this.topDownBehavior._stickAngle = assistanceDirection * 45;","            }","            return assistanceDirection;","        }","        return direction;","    }","","    /**","     * Called before the acceleration and new direction is applied to the","     * velocity.","     * @param {gdjs.TopDownMovementRuntimeBehavior.TopDownMovementHookContext} context","     */","    CornerSlider.prototype.beforeSpeedUpdate = function (context) { }","","    /**","     * Called before the velocity is applied to the object position and","     * angle.","     */","    CornerSlider.prototype.beforePositionUpdate = function () {","        if (!this.behavior.activated()) {","            return;","        }","","        const object = this.topDownBehavior.owner;","        this.previousX = object.getX();","        this.previousY = object.getY();","    }","","    // TODO Rename this methode to the new hook interface method.","    CornerSlider.prototype.afterPositionUpdateTODO = function () {","        if (!this.behavior.activated()) {","            return;","        }","","        const object = this.topDownBehavior.owner;","        const point = temporaryPointForTransformations;","        point[0] = object.getX() - this.previousX;","        point[1] = object.getY() - this.previousY;","        // TODO Handle isometry","        // if (this.topDownBehavior._basisTransformation) {","        //   this.topDownBehavior._basisTransformation.toWorld(point, point);","        // }","        this.shift(point[0], point[1]);","","        this.applyCollision();","","        const position = temporaryPointForTransformations;","","        // TODO Handle isometry","        // if (this.topDownBehavior._basisTransformation) {","        //   this.topDownBehavior._basisTransformation.toScreen(","        //     this.transformedPosition,","        //     position","        //   );","        // } else {","        position[0] = this.transformedPosition[0];","        position[1] = this.transformedPosition[1];","        // }","        object.setX(position[0]);","        object.setY(position[1]);","    }","","    CornerSlider.prototype.getStickDirection = function () {","        let direction =","            (this.topDownBehavior._stickAngle +","                this.topDownBehavior._movementAngleOffset) /","            45;","        direction = direction - Math.floor(direction / 8) * 8;","        for (let strait = 0; strait < 8; strait += 2) {","            if (strait - 0.125 < direction && direction < strait + 0.125) {","                direction = strait;","            }","            if (strait + 0.125 <= direction && direction <= strait + 2 - 0.125) {","                direction = strait + 1;","            }","        }","        if (8 - 0.125 < direction) {","            direction = 0;","        }","        return direction;","    }","","      /** Analyze the real intent of the player instead of applying the input blindly.","       * @param {integer} direction","       * @returns {integer} a direction that matches the player intents.","       */","      CornerSlider.prototype.suggestDirection = function (direction) {","        this.needToCheckBypassWay =","          this.needToCheckBypassWay || direction !== this.lastDirection;","","        if (direction === -1) {","          return this.noAssistance();","        }","","        const object = this.topDownBehavior.owner;","        if (","          object.getWidth() !== this.oldWidth ||","          object.getHeight() !== this.oldHeight","        ) {","          this.hitBoxesAABBUpToDate = false;","          this.oldWidth = object.getWidth();","          this.oldHeight = object.getHeight();","        }","","        // Compute the list of the objects that will be used","        const timeDelta = object.getElapsedTime(this.instanceContainer) / 1000;","        this.updatePotentialCollidingObjects(","          1 + this.topDownBehavior.getMaxSpeed() * timeDelta","        );","","        const downKey = 1 <= direction && direction <= 3;","        const leftKey = 3 <= direction && direction <= 5;","        const upKey = 5 <= direction && direction <= 7;","        const rightKey = direction <= 1 || 7 <= direction;","","        // Used to align the player when the assistance make him bypass an obstacle","        let stopMinX = Number.MAX_VALUE;","        let stopMinY = Number.MAX_VALUE;","        let stopMaxX = -Number.MAX_VALUE;","        let stopMaxY = -Number.MAX_VALUE;","        let isBypassX = false;","        let isBypassY = false;","","        // Incites of how the player should be assisted","        let assistanceLeft = 0;","        let assistanceRight = 0;","        let assistanceUp = 0;","        let assistanceDown = 0;","","        // the actual decision","        let assistanceDirection = -1;","","        const objectAABB = this.getHitBoxesAABB();","        const minX = objectAABB.min[0];","        const minY = objectAABB.min[1];","        const maxX = objectAABB.max[0];","        const maxY = objectAABB.max[1];","        const width = maxX - minX;","        const height = maxY - minY;","","        // This affectation has no meaning, it will be override.","        /** @type {gdjs.AABB | null} */","        let bypassedObstacleAABB = null;","","        this.collidingObjects.length = 0;","        this.collidingObjects.push(object);","","        for (var i = 0; i < this.potentialCollidingObjects.length; ++i) {","          const obstacleBehavior = this.potentialCollidingObjects[i];","          const corner = obstacleBehavior.behavior._getSlidingCornerSize();","          const obstacle = obstacleBehavior.owner;","          if (obstacle === object) {","            continue;","          }","","          const obstacleAABB = obstacleBehavior.getHitBoxesAABB();","          const obstacleMinX = obstacleAABB.min[0];","          const obstacleMinY = obstacleAABB.min[1];","          const obstacleMaxX = obstacleAABB.max[0];","          const obstacleMaxY = obstacleAABB.max[1];","","          const deltaX = deltasX[direction];","          const deltaY = deltasY[direction];","          // Extends the box in the player direction","          if (","            Math.max(maxX, Math.floor(maxX + deltaX)) > obstacleMinX &&","            Math.min(minX, Math.ceil(minX + deltaX)) < obstacleMaxX &&","            Math.max(maxY, Math.floor(maxY + deltaY)) > obstacleMinY &&","            Math.min(minY, Math.ceil(minY + deltaY)) < obstacleMaxY","          ) {","            this.collidingObjects.push(obstacle);","","            // The player is corner to corner to the obstacle.","            // The assistance will depend on other obstacles.","            // Both direction are set and the actual to take","            // is decided at the end.","            if (","              almostEquals(maxX, obstacleMinX) &&","              almostEquals(maxY, obstacleMinY)","            ) {","              assistanceRight++;","              assistanceDown++;","            } else if (","              almostEquals(maxX, obstacleMinX) &&","              almostEquals(minY, obstacleMaxY)","            ) {","              assistanceRight++;","              assistanceUp++;","            } else if (","              almostEquals(minX, obstacleMaxX) &&","              almostEquals(minY, obstacleMaxY)","            ) {","              assistanceLeft++;","              assistanceUp++;","            } else if (","              almostEquals(minX, obstacleMaxX) &&","              almostEquals(maxY, obstacleMinY)","            ) {","              assistanceLeft++;","              assistanceDown++;","            } else if (","              (upKey && almostEquals(minY, obstacleMaxY)) ||","              (downKey && almostEquals(maxY, obstacleMinY))","            ) {","              // The player is not on the corner of the obstacle.","              // Set the assistance both ways to fall back in","              // the same case as 2 obstacles side by side","              // being collide with the player.","              if (","                (rightKey || maxX > obstacleMinX + corner) &&","                minX < obstacleMaxX &&","                (leftKey || minX < obstacleMaxX - corner) &&","                maxX > obstacleMinX","              ) {","                assistanceLeft++;","                assistanceRight++;","              }","              // The player is on the corner of the obstacle.","              // (not the exact corner, see corner affectation)","              else if (","                !rightKey &&","                obstacleMinX < maxX &&","                maxX <= obstacleMinX + corner &&","                // In case the cornerSize is bigger than the obstacle size,","                // go the on the shortest side.","                (leftKey || minX + maxX <= obstacleMinX + obstacleMaxX)","              ) {","                assistanceLeft++;","                isBypassX = true;","                if (obstacleMinX - width < stopMinX) {","                  stopMinX = obstacleMinX - width;","                  bypassedObstacleAABB = obstacleAABB;","                }","              } else if (","                !leftKey &&","                obstacleMaxX - corner <= minX &&","                minX < obstacleMaxX &&","                (rightKey || minX + maxX > obstacleMinX + obstacleMaxX)","              ) {","                assistanceRight++;","                isBypassX = true;","                if (obstacleMaxX > stopMaxX) {","                  stopMaxX = obstacleMaxX;","                  bypassedObstacleAABB = obstacleAABB;","                }","              }","            } else if (","              (leftKey && almostEquals(minX, obstacleMaxX)) ||","              (rightKey && almostEquals(maxX, obstacleMinX))","            ) {","              // The player is not on the corner of the obstacle.","              // Set the assistance both ways to fall back in","              // the same case as 2 obstacles side by side","              // being collide with the player.","              if (","                (downKey || maxY > obstacleMinY + corner) &&","                minY < obstacleMaxY &&","                (upKey || minY < obstacleMaxY - corner) &&","                maxY > obstacleMinY","              ) {","                assistanceUp++;","                assistanceDown++;","              }","              // The player is on the corner of the obstacle.","              // (not the exact corner, see corner affectation)","              else if (","                !downKey &&","                obstacleMinY < maxY &&","                maxY <= obstacleMinY + corner &&","                (upKey || minY + maxY <= obstacleMinY + obstacleMaxY)","              ) {","                assistanceUp++;","                isBypassY = true;","                if (obstacleMinY - height < stopMinY) {","                  stopMinY = obstacleMinY - height;","                  bypassedObstacleAABB = obstacleAABB;","                }","              } else if (","                !upKey &&","                obstacleMaxY - corner <= minY &&","                minY < obstacleMaxY &&","                (downKey || minY + maxY > obstacleMinY + obstacleMaxY)","              ) {","                assistanceDown++;","                isBypassY = true;","                if (obstacleMaxY > stopMaxY) {","                  stopMaxY = obstacleMaxY;","                  bypassedObstacleAABB = obstacleAABB;","                }","              }","            }","          }","        }","","        // This may happen when the player is in the corner of 2 perpendicular walls.","        // No assistance is needed.","        if (","          assistanceLeft &&","          assistanceRight &&","          assistanceUp &&","          assistanceDown","        ) {","          return this.noAssistance();","        }","        // This may happen when the player goes in diagonal against a wall.","        // Make him follow the wall. This allows player to keep full speed.","        //","        // When he collided a square from the wall corner to corner,","        // a 3rd assistance may be true but it fall back in the same case.","        else if (assistanceLeft && assistanceRight) {","          isBypassX = false;","          if (leftKey && !rightKey) {","            assistanceDirection = 4;","          } else if (rightKey && !leftKey) {","            assistanceDirection = 0;","          } else {","            // Contradictory decisions are dismissed.","            //","            // This can happen, for instance, with a wall composed of squares.","            // Taken separately from one to another, a square could be bypass one the right","            // and the next one on the left even though they are side by side","            // and the player can't actually go between them.","            return this.noAssistance();","          }","        } else if (assistanceUp && assistanceDown) {","          isBypassY = false;","          if (upKey && !downKey) {","            assistanceDirection = 6;","          } else if (downKey && !upKey) {","            assistanceDirection = 2;","          } else {","            // see previous comment","            return this.noAssistance();","          }","        }","        // The player goes in diagonal and is corner to corner with the obstacle.","        // (but not against a wall, this time)","        // The velocity is used to decide.","        // This may only happen after an alignment.","        // (see \"Alignment:\" comment)","        else if (assistanceRight && assistanceDown) {","          if (","            (downKey && !rightKey) ||","            (downKey === rightKey && assistanceDown > assistanceRight) ||","            (assistanceDown === assistanceRight &&","              this.topDownBehavior._yVelocity > 0 &&","              Math.abs(this.topDownBehavior._xVelocity) <","                Math.abs(this.topDownBehavior._yVelocity))","          ) {","            assistanceDirection = 2;","          } else {","            assistanceDirection = 0;","          }","        } else if (assistanceLeft && assistanceDown) {","          if (","            (downKey && !leftKey) ||","            (downKey === leftKey && assistanceDown > assistanceLeft) ||","            (assistanceDown === assistanceLeft &&","              this.topDownBehavior._yVelocity > 0 &&","              Math.abs(this.topDownBehavior._xVelocity) <","                Math.abs(this.topDownBehavior._yVelocity))","          ) {","            assistanceDirection = 2;","          } else {","            assistanceDirection = 4;","          }","        } else if (assistanceLeft && assistanceUp) {","          if (","            (upKey && !leftKey) ||","            (upKey === leftKey && assistanceUp > assistanceLeft) ||","            (assistanceUp === assistanceLeft &&","              this.topDownBehavior._yVelocity < 0 &&","              Math.abs(this.topDownBehavior._xVelocity) <","                Math.abs(this.topDownBehavior._yVelocity))","          ) {","            assistanceDirection = 6;","          } else {","            assistanceDirection = 4;","          }","        } else if (assistanceRight && assistanceUp) {","          if (","            (upKey && !rightKey) ||","            (upKey === rightKey && assistanceUp > assistanceRight) ||","            (assistanceUp === assistanceRight &&","              this.topDownBehavior._yVelocity < 0 &&","              Math.abs(this.topDownBehavior._xVelocity) <","                Math.abs(this.topDownBehavior._yVelocity))","          ) {","            assistanceDirection = 6;","          } else {","            assistanceDirection = 0;","          }","        } else {","          // Slide on the corner of an obstacle to bypass it.","          // Every tricky cases are already handled .","          if (assistanceLeft) {","            assistanceDirection = 4;","          } else if (assistanceRight) {","            assistanceDirection = 0;","          } else if (assistanceUp) {","            assistanceDirection = 6;","          } else if (assistanceDown) {","            assistanceDirection = 2;","          } else {","            return this.noAssistance();","          }","        }","","        // Check if there is any obstacle in the way.","        //","        // There must be no obstacle to go at least","        // as far in the direction the player chose","        // as the assistance must take to align the player.","        //","        // Because, if the assistance moves the player by 32 pixels","        // before been able to go in the right direction","        // and can only move by 4 pixels afterward","        // that it'll sound silly.","        this.needToCheckBypassWay =","          this.needToCheckBypassWay ||","          assistanceDirection !== this.lastAssistanceDirection;","        if ((isBypassX || isBypassY) && !this.needToCheckBypassWay) {","          // Don't check again if the player intent stays the same.","          //","          // Do it, for instance, if an obstacle has moved out of the way","          // and the player releases and presses agin the key.","          // Because, doing it automatically would seems weird.","          if (this.lastAnyObstacle) {","            return this.noAssistance();","          }","        } else if (isBypassX || isBypassY) {","          this.lastAssistanceDirection = assistanceDirection;","          this.lastDirection = direction;","","          let anyObstacle = false;","          // reflection symmetry: y = x","          // 0 to 6, 2 to 4, 4 to 2, 6 to 0","          if (direction + assistanceDirection === 6) {","            // Because the obstacle may not be a square.","            let cornerX = 0;","            let cornerY = 0;","            if (assistanceDirection === 4 || assistanceDirection === 6) {","              cornerX = bypassedObstacleAABB.min[0];","              cornerY = bypassedObstacleAABB.min[1];","            } else {","              cornerX = bypassedObstacleAABB.max[0];","              cornerY = bypassedObstacleAABB.max[1];","            }","            // / cornerX \\   / 0  1 \\   / x - cornerX \\","            // \\ cornerY / + \\ 1  0 / * \\ y - cornerY /","            //","            // min and max are preserved by the symmetry.","            // The symmetry image is extended to check there is no obstacle before going into the passage.","            const searchMinX =","              cornerX +","              minY -","              cornerY +","              epsilon +","              (assistanceDirection === 6 ? cornerY - maxY : 0);","            const searchMaxX =","              cornerX +","              maxY -","              cornerY -","              epsilon +","              (assistanceDirection === 2 ? cornerY - minY : 0);","            const searchMinY =","              cornerY +","              minX -","              cornerX +","              epsilon +","              (assistanceDirection === 4 ? cornerX - maxX : 0);","            const searchMaxY =","              cornerY +","              maxX -","              cornerX -","              epsilon +","              (assistanceDirection === 0 ? cornerX - minX : 0);","","            anyObstacle = this.obstacleManager.anyObstacle(","              searchMinX,","              searchMaxX,","              searchMinY,","              searchMaxY,","              this.collidingObjects","            );","          }","          // reflection symmetry: y = -x","          // 0 to 2, 2 to 0, 4 to 6, 6 to 4","          else if ((direction + assistanceDirection) % 8 === 2) {","            // Because the obstacle may not be a square.","            let cornerX = 0;","            let cornerY = 0;","            if (assistanceDirection === 2 || assistanceDirection === 4) {","              cornerX = bypassedObstacleAABB.min[0];","              cornerY = bypassedObstacleAABB.max[1];","            } else {","              cornerX = bypassedObstacleAABB.max[0];","              cornerY = bypassedObstacleAABB.min[1];","            }","            // / cornerX \\   /  0  -1 \\   / x - cornerX \\","            // \\ cornerY / + \\ -1   0 / * \\ y - cornerY /","            //","            // min and max are switched by the symmetry.","            // The symmetry image is extended to check there is no obstacle before going into the passage.","            const searchMinX =","              cornerX -","              (maxY - cornerY) +","              epsilon +","              (assistanceDirection === 2 ? minY - cornerY : 0);","            const searchMaxX =","              cornerX -","              (minY - cornerY) -","              epsilon +","              (assistanceDirection === 6 ? maxY - cornerY : 0);","            const searchMinY =","              cornerY -","              (maxX - cornerX) +","              epsilon +","              (assistanceDirection === 0 ? minX - cornerX : 0);","            const searchMaxY =","              cornerY -","              (minX - cornerX) -","              epsilon +","              (assistanceDirection === 4 ? maxX - cornerX : 0);","","            anyObstacle = this.obstacleManager.anyObstacle(","              searchMinX,","              searchMaxX,","              searchMinY,","              searchMaxY,","              this.collidingObjects","            );","          }","          this.lastAnyObstacle = anyObstacle;","          this.needToCheckBypassWay = false;","","          if (anyObstacle) {","            return this.noAssistance();","          }","        }","","        this.result.inputDirection = direction;","        this.result.assistanceLeft = assistanceLeft > 0;","        this.result.assistanceRight = assistanceRight > 0;","        this.result.assistanceUp = assistanceUp > 0;","        this.result.assistanceDown = assistanceDown > 0;","        this.result.isBypassX = isBypassX;","        this.result.isBypassY = isBypassY;","        this.result.stopMinX = stopMinX;","        this.result.stopMinY = stopMinY;","        this.result.stopMaxX = stopMaxX;","        this.result.stopMaxY = stopMaxY;","","        return assistanceDirection;","      }","","      /**","       * @return {integer}","       */","      CornerSlider.prototype.noAssistance = function() {","        this.result.isBypassX = false;","        this.result.isBypassY = false;","","        return -1;","      }","","      CornerSlider.prototype.applyCollision = function() {","        this.checkCornerStop();","        this.separateFromObstacles();","        // check again because the object can be pushed on the stop limit,","        // it won't be detected on the next frame and the alignment won't be applied.","        this.checkCornerStop();","      }","","      /**","       * Check if the object must take a corner.","       *","       * When the object reach the limit of an obstacle","       * and it should take the corner according to the player intent,","       * it is aligned right on this limit and the velocity is set in the right direction.","       *","       * This avoid issues with the inertia. For instance,","       * when the object could go between 2 obstacles,","       * with it will just fly over the hole because of its inertia.","       */","      CornerSlider.prototype.checkCornerStop = function() {","        const objectAABB = this.getHitBoxesAABB();","        const minX = objectAABB.min[0];","        const minY = objectAABB.min[1];","        const object = this.topDownBehavior.owner;","","        const direction = this.result.inputDirection;","        const leftKey = 3 <= direction && direction <= 5;","        const upKey = 5 <= direction && direction <= 7;","","        // Alignment: avoid to go too far and kind of drift or oscillate in front of a hole.","        if (","          this.result.isBypassX &&","          ((this.result.assistanceLeft && minX <= this.result.stopMinX) ||","            (this.result.assistanceRight && minX >= this.result.stopMaxX))","        ) {","          this.shift(","            -minX +","              (this.result.assistanceLeft","                ? this.result.stopMinX","                : this.result.stopMaxX),","            0","          );","          this.topDownBehavior._yVelocity =","            (upKey ? -1 : 1) *","            Math.sqrt(","              this.topDownBehavior._xVelocity *","                this.topDownBehavior._xVelocity +","                this.topDownBehavior._yVelocity *","                  this.topDownBehavior._yVelocity","            );","          this.topDownBehavior._xVelocity = 0;","        }","        if (","          this.result.isBypassY &&","          ((this.result.assistanceUp && minY <= this.result.stopMinY) ||","            (this.result.assistanceDown && minY >= this.result.stopMaxY))","        ) {","          this.shift(","            0,","            -minY +","              (this.result.assistanceUp","                ? this.result.stopMinY","                : this.result.stopMaxY)","          );","          this.topDownBehavior._xVelocity =","            (leftKey ? -1 : 1) *","            Math.sqrt(","              this.topDownBehavior._xVelocity *","                this.topDownBehavior._xVelocity +","                this.topDownBehavior._yVelocity *","                  this.topDownBehavior._yVelocity","            );","          this.topDownBehavior._yVelocity = 0;","        }","      }","","      /**","       * Separate from TopDownObstacleRuntimeBehavior instances.","       */","      CornerSlider.prototype.separateFromObstacles = function() {","        const object = this.topDownBehavior.owner;","        const objectAABB = this.getHitBoxesAABB();","        const minX = objectAABB.min[0];","        const minY = objectAABB.min[1];","        const maxX = objectAABB.max[0];","        const maxY = objectAABB.max[1];","","        // Search the obstacle with the biggest intersection","        // to separate from this one first.","        // Because smaller collisions may shift the player","        // in the wrong direction.","        let maxSurface = 0;","        /** @type {gdjs.RuntimeBehavior | null} */","        let bestObstacleBehavior = null;","        for (var i = 0; i < this.potentialCollidingObjects.length; ++i) {","          const obstacleBehavior = this.potentialCollidingObjects[i];","          if (obstacleBehavior.behavior.owner === object) {","            continue;","          }","","          const obstacleAABB = obstacleBehavior.getHitBoxesAABB();","          const obstacleMinX = obstacleAABB.min[0];","          const obstacleMinY = obstacleAABB.min[1];","          const obstacleMaxX = obstacleAABB.max[0];","          const obstacleMaxY = obstacleAABB.max[1];","","          const interMinX = Math.max(minX, obstacleMinX);","          const interMinY = Math.max(minY, obstacleMinY);","          const interMaxX = Math.min(maxX, obstacleMaxX);","          const interMaxY = Math.min(maxY, obstacleMaxY);","","          if (interMinX < interMaxX && interMinY < interMaxY) {","            const surface = (interMaxX - interMinX) * (interMaxY - interMinY);","            if (surface > maxSurface) {","              maxSurface = surface;","              bestObstacleBehavior = obstacleBehavior;","            }","          }","        }","        if (bestObstacleBehavior !== null) {","          this.separateFrom(bestObstacleBehavior);","        }","        for (var i = 0; i < this.potentialCollidingObjects.length; ++i) {","          const obstacleBehavior = this.potentialCollidingObjects[i];","          const obstacle = obstacleBehavior.behavior.owner;","          if (obstacle === object) {","            continue;","          }","          this.separateFrom(obstacleBehavior);","        }","      }","","      /**","       * Separate object and obstacle, only object move.","       * @param {Obstacle} obstacleBehavior","       */","      CornerSlider.prototype.separateFrom = function(obstacleBehavior) {","        const objectAABB = this.getHitBoxesAABB();","        const minX = objectAABB.min[0];","        const minY = objectAABB.min[1];","        const maxX = objectAABB.max[0];","        const maxY = objectAABB.max[1];","","        const obstacleAABB = obstacleBehavior.getHitBoxesAABB();","        const obstacleMinX = obstacleAABB.min[0];","        const obstacleMinY = obstacleAABB.min[1];","        const obstacleMaxX = obstacleAABB.max[0];","        const obstacleMaxY = obstacleAABB.max[1];","","        const leftDistance = maxX - obstacleMinX;","        const upDistance = maxY - obstacleMinY;","        const rightDistance = obstacleMaxX - minX;","        const downDistance = obstacleMaxY - minY;","        const minDistance = Math.min(","          leftDistance,","          upDistance,","          rightDistance,","          downDistance","        );","","        if (minDistance > 0) {","          if (leftDistance === minDistance) {","            this.shift(-maxX + obstacleMinX, 0);","          } else if (rightDistance === minDistance) {","            this.shift(-minX + obstacleMaxX, 0);","          } else if (upDistance === minDistance) {","            this.shift(0, -maxY + obstacleMinY);","          } else if (downDistance === minDistance) {","            this.shift(0, -minY + obstacleMaxY);","          }","        }","      }","","/**"," * @param {float} deltaX"," * @param {float} deltaY"," */","      CornerSlider.prototype.shift = function (deltaX, deltaY) {","        this.transformedPosition[0] += deltaX;","        this.transformedPosition[1] += deltaY;","      }","","      /**","       * @return {gdjs.AABB}","       */","      CornerSlider.prototype.getHitBoxesAABB = function() {","        if (!this.hitBoxesAABBUpToDate) {","          const hitBoxes = this.topDownBehavior.owner.getHitBoxes();","","          let minX = Number.MAX_VALUE;","          let minY = Number.MAX_VALUE;","          let maxX = -Number.MAX_VALUE;","          let maxY = -Number.MAX_VALUE;","          for (let h = 0, lenh = hitBoxes.length; h < lenh; ++h) {","            let hitBox = hitBoxes[h];","            for (let p = 0, lenp = hitBox.vertices.length; p < lenp; ++p) {","              const point = this.topDownBehavior","                ._temporaryPointForTransformations;","              // TODO Handle isometry","              // if (this.topDownBehavior._basisTransformation) {","              //   this.topDownBehavior._basisTransformation.toWorld(","              //     hitBox.vertices[p],","              //     point","              //   );","              // } else {","                point[0] = hitBox.vertices[p][0];","                point[1] = hitBox.vertices[p][1];","              // }","              minX = Math.min(minX, point[0]);","              maxX = Math.max(maxX, point[0]);","              minY = Math.min(minY, point[1]);","              maxY = Math.max(maxY, point[1]);","            }","          }","          this.relativeHitBoxesAABB.min[0] = minX - this.transformedPosition[0];","          this.relativeHitBoxesAABB.min[1] = minY - this.transformedPosition[1];","          this.relativeHitBoxesAABB.max[0] = maxX - this.transformedPosition[0];","          this.relativeHitBoxesAABB.max[1] = maxY - this.transformedPosition[1];","","          this.hitBoxesAABBUpToDate = true;","        }","        this.absoluteHitBoxesAABB.min[0] =","          this.relativeHitBoxesAABB.min[0] + this.transformedPosition[0];","        this.absoluteHitBoxesAABB.min[1] =","          this.relativeHitBoxesAABB.min[1] + this.transformedPosition[1];","        this.absoluteHitBoxesAABB.max[0] =","          this.relativeHitBoxesAABB.max[0] + this.transformedPosition[0];","        this.absoluteHitBoxesAABB.max[1] =","          this.relativeHitBoxesAABB.max[1] + this.transformedPosition[1];","        return this.absoluteHitBoxesAABB;","      }","","      /**","       * Update _potentialCollidingObjects member with platforms near the object.","       * @param {float} maxMovementLength","       */","      CornerSlider.prototype.updatePotentialCollidingObjects = function(maxMovementLength) {","        this.obstacleManager.getAllObstaclesAround(","          this.getHitBoxesAABB(),","          maxMovementLength,","          this.potentialCollidingObjects","        );","      }","","    return CornerSlider;","}());","","","/**"," * TopDownMovementRuntimeBehavior represents a behavior allowing objects to"," * follow a path computed to avoid obstacles."," */","const AssistanceResult = /** @class */ (function () {","    function AssistanceResult() {","      this.inputDirection = -1;","      this.assistanceLeft = false;","      this.assistanceRight = false;","      this.assistanceUp = false;","      this.assistanceDown = false;","      this.isBypassX = false;","      this.isBypassY = false;","      this.stopMinX = 0;","      this.stopMinY = 0;","      this.stopMaxX = 0;","      this.stopMaxY = 0;","    }","","    return AssistanceResult;","}());","","  /**","   * Allow to store a behavior in a RBush (spatial data structure).","   * Because this duplicates the AABB, this ensures the RBush AABB","   * stays the same even if the underlying object is moved","   * (in which case the behavior is responsible for removing/adding","   * back/updating this BehaviorRBushAABB).","   */","  const ObstacleRBushAABB = /** @class */ (function () {","    /**","     * @param {Obstacle} obstacle","     */","      function ObstacleRBushAABB(obstacle) {","      this.obstacle = obstacle;","      this.minX = 0;","      this.minY = 0;","      this.maxX = 0;","      this.maxY = 0;","      this.updateAABBFromOwner();","    }","","    ObstacleRBushAABB.prototype.updateAABBFromOwner = function () {","      const aabb = this.obstacle.getHitBoxesAABB();","      this.minX = aabb.min[0];","      this.minY = aabb.min[1];","      this.maxX = aabb.max[0];","      this.maxY = aabb.max[1];","    }","","    return ObstacleRBushAABB;","}());","","/**"," * An obstacle manager for fast spacial search."," */","const ObstacleManager =  /** @class */ (function () {","    /**","     * Create a manager.","     */","    function ObstacleManager() {","        this.obstacleRBush = new rbush();","    }","","    /**","     * Get the obstacle manager of an instance container.","     * @param {gdjs.RuntimeInstanceContainer} instanceContainer","     * @return {ObstacleManager}","     */","    ObstacleManager.getManager = function (instanceContainer) {","        if (!instanceContainer.__topDownCornerSlidingExtension) {","            instanceContainer.__topDownCornerSlidingExtension = {};","        }","        if (!instanceContainer.__topDownCornerSlidingExtension.manager) {","            // Create the shared manager if necessary.","            instanceContainer.__topDownCornerSlidingExtension.manager = new ObstacleManager();","        }","        return instanceContainer.__topDownCornerSlidingExtension.manager;","    };","","    /**","     * Register an obstacle.","     * @param {Obstacle} obstacle","     */","    ObstacleManager.prototype.addObstacle = function (obstacle) {","        obstacle.currentRBushAABB.updateAABBFromOwner();","        this.obstacleRBush.insert(obstacle.currentRBushAABB);","    }","","    /**","     * Unregister an obstacle.","     * @param {Obstacle} obstacle","     */","    ObstacleManager.prototype.removeObstacle = function (obstacle) {","        this.obstacleRBush.remove(obstacle.currentRBushAABB);","    }","","    /**","     * Returns all the boids around the specified boid.","     * @param {gdjs.AABB} aabb","     * @param {number} maxMovementLength","     * @param {Obstacle[]} result the returned array.","     * @return {Obstacle[]} An array with all obstacles near the object.","     */","    ObstacleManager.prototype.getAllObstaclesAround = function (aabb, maxMovementLength, result) {","        const searchArea = gdjs.staticObject(","            ObstacleManager.prototype.getAllObstaclesAround","        );","        searchArea.minX = aabb.min[0] - maxMovementLength;","        searchArea.minY = aabb.min[1] - maxMovementLength;","        searchArea.maxX = aabb.max[0] + maxMovementLength;","        searchArea.maxY = aabb.max[1] + maxMovementLength;","        /** @type {ObstacleRBushAABB[]} */","        const nearbyObstacles = this.obstacleRBush.search(searchArea);","","        result.length = 0;","        for (let i = 0; i < nearbyObstacles.length; i++) {","            const obstacle = nearbyObstacles[i].obstacle;","            result.push(obstacle);","        }","","        return result;","    }","","    /**","     * Returns true if there is any obstacle intersecting the area.","     * @param {number} minX","     * @param {number} maxX","     * @param {number} minY","     * @param {number} maxY","     * @param {gdjs.RuntimeObject[]} excluded","     * @return {boolean}","     */","    ObstacleManager.prototype.anyObstacle = function (","        minX,","        maxX,","        minY,","        maxY,","        excluded","    ) {","        const searchArea = gdjs.staticObject(","            ObstacleManager.prototype.anyObstacle","        );","        // @ts-ignore","        searchArea.minX = minX;","        // @ts-ignore","        searchArea.minY = minY;","        // @ts-ignore","        searchArea.maxX = maxX;","        // @ts-ignore","        searchArea.maxY = maxY;","        /** @type {ObstacleRBushAABB[]} */","        const nearbyObstacles = this.obstacleRBush.search(searchArea);","","        for (let i = 0; i < nearbyObstacles.length; i++) {","            if (!excluded.includes(nearbyObstacles[i].obstacle.behavior.owner)) {","                return true;","            }","        }","        return false;","    }","","    return ObstacleManager;","}());","","/**"," * NavMeshPathfindingObstacleRuntimeBehavior represents a behavior allowing objects to be"," * considered as a obstacle by objects having Pathfinding Behavior."," */","const Obstacle = /** @class */ (function () {","    /**","     * ","     * @param {gdjs.RuntimeInstanceContainer} instanceContainer","     * @param {gdjs.RuntimeBehavior} behavior","     */","    function Obstacle(instanceContainer, behavior) {","        this.oldX = 0;","        this.oldY = 0;","        this.oldWidth = 0;","        this.oldHeight = 0;","        this.registeredInManager = false;","        this.behavior = behavior;","        this.manager = ObstacleManager.getManager(instanceContainer);","        // Note that we can't use getX(), getWidth()... of owner here:","        // The owner is not yet fully constructed.","        /** @type {gdjs.AABB} */","        this.hitBoxesAABB = { min: [0, 0], max: [0, 0] };","        this.hitBoxesAABBUpToDate = false;","        ","        /** @type {FloatPoint} */","        this.point = [0, 0];","        this.currentRBushAABB = new ObstacleRBushAABB(this);","    }","    Obstacle.prototype.onCreated = function () {","        this.manager.addObstacle(this);","        this.registeredInManager = true;","    };","    Obstacle.prototype.onDestroy = function () {","        if (this.manager && this.registeredInManager) {","            this.manager.removeObstacle(this);","        }","    };","    Obstacle.prototype.doStepPreEvents = function (instanceContainer) {","        var owner = this.behavior.owner;","        // Make sure the obstacle is or is not in the obstacles manager.","        if (!this.behavior.activated() && this.registeredInManager) {","            this.manager.removeObstacle(this);","            this.registeredInManager = false;","        }","        else {","            if (this.behavior.activated() && !this.registeredInManager) {","                this.manager.addObstacle(this);","                this.registeredInManager = true;","            }","        }","        // Track changes in size or position","        if (this.oldX !== owner.getX() ||","            this.oldY !== owner.getY() ||","            this.oldWidth !== owner.getWidth() ||","            this.oldHeight !== owner.getHeight()) {","            this.hitBoxesAABBUpToDate = false;","            if (this.registeredInManager) {","                this.manager.removeObstacle(this);","                this.manager.addObstacle(this);","            }","            this.oldX = owner.getX();","            this.oldY = owner.getY();","            this.oldWidth = owner.getWidth();","            this.oldHeight = owner.getHeight();","        }","    };","    Obstacle.prototype.doStepPostEvents = function (instanceContainer) { };","    Obstacle.prototype.onActivate = function () {","        if (this.registeredInManager) {","            return;","        }","        this.manager.addObstacle(this);","        this.registeredInManager = true;","    };","    Obstacle.prototype.onDeActivate = function () {","        if (!this.registeredInManager) {","            return;","        }","        this.manager.removeObstacle(this);","        this.registeredInManager = false;","    };","","    /**","     * @return {gdjs.AABB}","     */","    Obstacle.prototype.getHitBoxesAABB = function() {","      if (!this.hitBoxesAABBUpToDate) {","        const hitBoxes = this.behavior.owner.getHitBoxes();","","        let minX = Number.MAX_VALUE;","        let minY = Number.MAX_VALUE;","        let maxX = -Number.MAX_VALUE;","        let maxY = -Number.MAX_VALUE;","        for (let h = 0, lenh = hitBoxes.length; h < lenh; ++h) {","          let hitBox = hitBoxes[h];","          for (let p = 0, lenp = hitBox.vertices.length; p < lenp; ++p) {","            const point = this.point;","            // TODO Handle Isometry","            //this._basisTransformation.toWorld(hitBox.vertices[p], point);","            point[0] = hitBox.vertices[p][0];","            point[1] = hitBox.vertices[p][1];","","            minX = Math.min(minX, point[0]);","            maxX = Math.max(maxX, point[0]);","            minY = Math.min(minY, point[1]);","            maxY = Math.max(maxY, point[1]);","          }","        }","        this.hitBoxesAABB.min[0] = minX;","        this.hitBoxesAABB.min[1] = minY;","        this.hitBoxesAABB.max[0] = maxX;","        this.hitBoxesAABB.max[1] = maxY;","","        this.hitBoxesAABBUpToDate = true;","      }","      return this.hitBoxesAABB;","    }","","    return Obstacle;","}());","","gdjs.__topDownCornerSlidingExtension = gdjs.__topDownCornerSlidingExtension || {};","gdjs.__topDownCornerSlidingExtension.CornerSlider = CornerSlider;","gdjs.__topDownCornerSlidingExtension.Obstacle = Obstacle;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Slide on corners of rectangular obstacles.","fullName":"Top-down corner slider","name":"TopDownCornerSlider","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TopDownCornerSliding::DefineJavaScriptForTopDown"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const object = objects[0];\r","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\r","const behavior = object.getBehavior(behaviorName);\r","\r","/** @type {gdjs.TopDownMovementRuntimeBehavior} */\r","const topDownBehavior = object.getBehavior(behavior._getTopDownMovement());\r","\r","behavior.__topDownCornerSlidingExtension = behavior.__topDownCornerSlidingExtension || {};\r","behavior.__topDownCornerSlidingExtension.cornerSlider = new gdjs.__topDownCornerSlidingExtension.CornerSlider(runtimeScene, behavior, topDownBehavior);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TopDownCornerSliding::TopDownCornerSlider","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Top-down movement behavior","description":"","group":"","extraInformation":["TopDownMovementBehavior::TopDownMovementBehavior"],"name":"TopDownMovement"}],"sharedPropertyDescriptors":[]},{"description":"Flag objects as obstacles for top-down characters.","fullName":"Top-down corner slider obstacle","name":"TopDownCornerSliderObstacle","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Initiate and attach properties as objects variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TopDownCornerSliding::DefineJavaScriptForTopDown"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\r","const behavior = object.getBehavior(behaviorName);\r","\r","behavior.__topDownCornerSlidingExtension = behavior.__topDownCornerSlidingExtension || {};\r","behavior.__topDownCornerSlidingExtension.obstacle =\r","    new gdjs.__topDownCornerSlidingExtension.Obstacle(runtimeScene, behavior);\r","behavior.__topDownCornerSlidingExtension.obstacle.onCreated(runtimeScene, behavior);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TopDownCornerSliding::TopDownCornerSliderObstacle","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\r","const behavior = object.getBehavior(behaviorName);\r","\r","behavior.__topDownCornerSlidingExtension.obstacle.doStepPreEvents(runtimeScene);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TopDownCornerSliding::TopDownCornerSliderObstacle","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = object.getBehavior(behaviorName);","","behavior.__topDownCornerSlidingExtension.obstacle.onActivate(runtimeScene);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TopDownCornerSliding::TopDownCornerSliderObstacle","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = object.getBehavior(behaviorName);","","behavior.__topDownCornerSlidingExtension.obstacle.onDeActivate(runtimeScene);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TopDownCornerSliding::TopDownCornerSliderObstacle","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDestroy","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = object.getBehavior(behaviorName);","","behavior.__topDownCornerSlidingExtension.obstacle.onDestroy(runtimeScene);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TopDownCornerSliding::TopDownCornerSliderObstacle","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","unit":"Pixel","label":"Sliding corner size","description":"","group":"","extraInformation":[],"name":"SlidingCornerSize"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Camera","extensionNamespace":"","fullName":"Third person camera","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSI3LDEwIDEsMTMgNywxNiAxMywxMyAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjEsMTMgMSwyMCA3LDIzIDEzLDIwIDEzLDEzICIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjciIHkxPSIxNiIgeDI9IjciIHkyPSIyMyIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjMxIiB5MT0iMTYiIHgyPSIyMSIgeTI9IjgiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyMSIgeTE9IjI0IiB4Mj0iMzEiIHkyPSIxNiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIyLjcsMjIuNkMyMCwyMS43LDE4LDE5LjEsMTgsMTZjMC0zLjEsMi01LjcsNC43LTYuNiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE5LjgsMTEuM2MxLjQsMS4xLDIuMiwyLjgsMi4yLDQuN2MwLDEuOS0wLjksMy42LTIuMiw0LjciLz4NCjwvc3ZnPg0K","name":"ThirdPersonCamera","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Virtual Reality/94e95d2c318e1f3dc7151a351024e13c574e1e44669c6696aa107d60230073f6_Virtual Reality_3d_vision_eye_vr.svg","shortDescription":"Move the camera  to look at an object from a given distance.","version":"1.2.1","description":["Move the camera  to look at an object from a given distance with a rotation and an elevation angles.","","It can be useful for:","- Third person camera","- Isometric-like point of view",""],"origin":{"identifier":"ThirdPersonCamera","name":"gdevelop-extension-store"},"tags":["3d","camera"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Move the camera to look at a position from a distance.","fullName":"Look at a position from a distance (deprecated)","functionType":"Action","name":"LookFromDistanceAtPosition","private":true,"sentence":"Move the camera of _PARAM6_ to look at _PARAM1_; _PARAM2_ from _PARAM3_ pixels with a rotation of _PARAM4_° and an elevation of _PARAM5_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetCameraCenterX"},"parameters":["","=","GetArgumentAsNumber(\"PositionX\") + GetArgumentAsNumber(\"Distance\") * cos(ToRad(GetArgumentAsNumber(\"RotationAngle\") + 90)) * cos(ToRad(GetArgumentAsNumber(\"ElevationAngle\")))","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"SetCameraCenterY"},"parameters":["","=","GetArgumentAsNumber(\"PositionY\") + GetArgumentAsNumber(\"Distance\") * sin(ToRad(GetArgumentAsNumber(\"RotationAngle\") + 90)) * cos(ToRad(GetArgumentAsNumber(\"ElevationAngle\")))","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","GetArgumentAsNumber(\"Distance\") * sin(ToRad(GetArgumentAsNumber(\"ElevationAngle\")))","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::TurnCameraTowardPosition"},"parameters":["","GetArgumentAsNumber(\"PositionX\")","GetArgumentAsNumber(\"PositionY\")","0","GetArgumentAsString(\"Layer\")","",""]}]}],"parameters":[{"description":"Position on X axis","name":"PositionX","type":"expression"},{"description":"Position on Y axis","name":"PositionY","type":"expression"},{"description":"Distance","name":"Distance","type":"expression"},{"description":"Rotation angle (around Z axis)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (around Y axis)","name":"ElevationAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Move the camera to look at an object from a distance.","fullName":"Look at an object from a distance (deprecated)","functionType":"Action","name":"LookFromDistanceAtObject","private":true,"sentence":"Move the camera of _PARAM5_ to look at _PARAM1_ from _PARAM2_ pixels with a rotation of _PARAM3_° and an elevation of _PARAM4_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::LookFromDistanceAtPosition"},"parameters":["","Object.CenterX()","Object.CenterY()","GetArgumentAsNumber(\"Distance\")","GetArgumentAsNumber(\"RotationAngle\")","GetArgumentAsNumber(\"ElevationAngle\")","GetArgumentAsString(\"Layer\")",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"Distance","name":"Distance","type":"expression"},{"description":"Rotation angle (around Z axis)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (around Y axis)","name":"ElevationAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Move the camera to look at a position from a distance.","fullName":"Look at a position from a distance","functionType":"Action","name":"LookFromDistanceAtPosition3D","sentence":"Move the camera of _PARAM7_ to look at _PARAM1_; _PARAM2_; _PARAM3_ from _PARAM4_ pixels with a rotation of _PARAM5_° and an elevation of _PARAM6_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetCameraCenterX"},"parameters":["","=","PositionX + Distance * cos(ToRad(RotationAngle + 90)) * cos(ToRad(ElevationAngle))","Layer",""]},{"type":{"value":"SetCameraCenterY"},"parameters":["","=","PositionY + Distance * sin(ToRad(RotationAngle + 90)) * cos(ToRad(ElevationAngle))","Layer",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","PositionZ + Distance * sin(ToRad(ElevationAngle))","Layer",""]},{"type":{"value":"Scene3D::SetCameraRotationX"},"parameters":["","=","90 - ElevationAngle","Layer",""]},{"type":{"value":"Scene3D::SetCameraRotationY"},"parameters":["","=","0","Layer",""]},{"type":{"value":"SetCameraAngle"},"parameters":["","=","RotationAngle","Layer",""]}]}],"parameters":[{"description":"Position on X axis","name":"PositionX","type":"expression"},{"description":"Position on Y axis","name":"PositionY","type":"expression"},{"description":"Position on Z axis","name":"PositionZ","type":"expression"},{"description":"Distance","name":"Distance","type":"expression"},{"description":"Rotation angle (around Z axis)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (around Y axis)","name":"ElevationAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Move the camera to look at an object from a distance.","fullName":"Look at an object from a distance","functionType":"Action","group":"Layers and cameras","name":"LookFromDistanceAtObject3D","sentence":"Move the camera of _PARAM6_ to look at _PARAM1_ from _PARAM3_ pixels with a rotation of _PARAM4_° and an elevation of _PARAM5_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::LookFromDistanceAtPosition3D"},"parameters":["","Object.CenterX()","Object.CenterY()","Object.Object3D::CenterZ()","Distance","RotationAngle","ElevationAngle","Layer",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Object3D","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Distance","name":"Distance","type":"expression"},{"description":"Rotation angle (around Z axis)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (around Y axis)","name":"ElevationAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Smoothly follow an object at a distance.","fullName":"Third person camera","name":"ThirdPersonCamera","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update private properties through setters to check their values and initialize state."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetRotationHalfwayDuration"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyRotationHalfwayDuration()",""]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetTranslationZHalfwayDuration"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyTranslationZHalfwayDuration()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ThirdPersonCamera::ThirdPersonCamera::PropertyIsCalledManually"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::DoMoveCameraCloser"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"Move the camera closer to the object. This action must be called after the object has moved for the frame.","fullName":"Move the camera closer","functionType":"Action","name":"MoveCameraCloser","sentence":"Move the camera closer to _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The camera following is called with an action, the call from doStepPreEvents must be disabled to avoid to do it twice."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyIsCalledManually"},"parameters":["Object","Behavior",""]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::DoMoveCameraCloser"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"Move the camera closer to the object.","fullName":"Do move the camera closer","functionType":"Action","name":"DoMoveCameraCloser","private":true,"sentence":"Do move the camera closer _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"At each frame, the camera must catchup the target by a given ratio (speed)\ncameraX(t) - targetX = (cameraX(t - 1) - targetX) * (1 - speed)\n\nThe frame rate must not impact on the catch-up speed, we don't want a speed in ratio per frame but a speed ratio per second, like this:\ncameraX(t) - targetX = (cameraX(t - 1s) - targetX) * (1 - speed)\n\nOk, but we still need to process each frame, we can use a exponent for this:\ncameraX(t) - targetX = (cameraX(t - timeDelta) - targetX) * (1 - speed)^timeDelta\ncameraX(t) = targetX + (cameraX(t - timeDelta) - targetX) * exp(timeDelta * ln((1 - speed)))\n\npow is probably more efficient than precalculated log if the speed is changed continuously but this might be rare enough."},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Z translation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::PropertyCameraZ"},"parameters":["Object","Behavior","<","Object.Behavior::FreeAreaZMin()"]}],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyCameraZ"},"parameters":["Object","Behavior","=","Object.Behavior::FreeAreaZMin() + (CameraZ - Object.Behavior::FreeAreaZMin()) * exp(TimeDelta() * TranslationZLogSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::PropertyCameraZ"},"parameters":["Object","Behavior",">","Object.Behavior::FreeAreaZMax()"]}],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyCameraZ"},"parameters":["Object","Behavior","=","Object.Behavior::FreeAreaZMax() + (CameraZ - Object.Behavior::FreeAreaZMax()) * exp(TimeDelta() * TranslationZLogSpeed)"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Z rotation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::LookFromDistanceAtPosition3D"},"parameters":["","Object.X() + OffsetX","Object.Y() + OffsetY","CameraZ + OffsetZ","Distance","Object.Angle() + 90 + (AngleDifference(CameraAngle(Object.Layer(), 0), (Object.Angle() + 90))) * exp(TimeDelta() * Object.Behavior::PropertyRotationLogSpeed()) + RotationAngleOffset","Object.Object3D::RotationY() + ElevationAngleOffset","",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the halfway time for rotation of the object.","fullName":"Halfway time for rotation","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"RotationHalfwayDuration","sentence":"the halfway time for rotation","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationHalfwayDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationHalfwayDuration","name":"SetRotationHalfwayDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"ln((1 - speed)) = ln(1 / 2) / halfwatTime"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyRotationHalfwayDuration"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyRotationLogSpeed"},"parameters":["Object","Behavior","=","log(0.5) / Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the halfway time on Z axis of the object.","fullName":"Halfway time on Z axis","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"TranslationZHalfwayDuration","sentence":"the halfway time on Z axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TranslationZHalfwayDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TranslationZHalfwayDuration","name":"SetTranslationZHalfwayDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"ln((1 - speed)) = ln(1 / 2) / halfwatTime"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyTranslationZHalfwayDuration"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyTranslationZLogSpeed"},"parameters":["Object","Behavior","=","log(0.5) / Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area bottom border Z.","fullName":"Free area Z min","functionType":"Expression","group":"Private","name":"FreeAreaZMin","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Object3D::CenterZ() + OffsetZ - FollowFreeAreaZMin"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area top border Z.","fullName":"Free area Z max","functionType":"Expression","group":"Private","name":"FreeAreaZMax","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Object3D::CenterZ() + OffsetZ + FollowFreeAreaZMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the follow free area top border on Z axis of the object.","fullName":"Follow free area top border on Z axis","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"FollowFreeAreaZMax","sentence":"the follow free area top border on Z axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FollowFreeAreaZMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FollowFreeAreaZMax","name":"SetFollowFreeAreaZMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyFollowFreeAreaZMax"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the follow free area bottom border on Z axis of the object.","fullName":"Follow free area bottom border on Z axis","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"FollowFreeAreaZMin","sentence":"the follow free area bottom border on Z axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FollowFreeAreaZMin"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FollowFreeAreaZMin","name":"SetFollowFreeAreaZMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyFollowFreeAreaZMin"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the camera distance of the object.","fullName":"Camera distance","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"Distance","sentence":"the camera distance","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Distance"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Distance","name":"SetDistance","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyDistance"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the x offset of the object.","fullName":"X offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"OffsetX","sentence":"the x offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["OffsetX"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"OffsetX","name":"SetOffsetX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyOffsetX"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the y offset of the object.","fullName":"Y offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"OffsetY","sentence":"the y offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["OffsetY"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"OffsetY","name":"SetOffsetY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyOffsetY"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the z offset of the object.","fullName":"Z offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"OffsetZ","sentence":"the z offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["OffsetZ"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"OffsetZ","name":"SetOffsetZ","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyOffsetZ"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the rotation angle offset of the object.","fullName":"Rotation angle offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"RotationAngleOffset","sentence":"the rotation angle offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationAngleOffset"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationAngleOffset","name":"SetRotationAngleOffset","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyRotationAngleOffset"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the elevation angle offset of the object.","fullName":"Elevation angle offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"ElevationAngleOffset","sentence":"the elevation angle offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["ElevationAngleOffset"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"ElevationAngleOffset","name":"SetElevationAngleOffset","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyElevationAngleOffset"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"3D capability","description":"","group":"","extraInformation":["Scene3D::Base3DBehavior"],"name":"Object3D"},{"value":"0.125","type":"Number","unit":"Second","label":"Halfway  time for rotation","description":"","group":"Catch-up speed","extraInformation":[],"name":"RotationHalfwayDuration"},{"value":"0.125","type":"Number","unit":"Second","label":"Halfway time on Z axis","description":"","group":"Catch-up speed","extraInformation":[],"name":"TranslationZHalfwayDuration"},{"value":"500","type":"Number","unit":"Pixel","label":"Camera distance","description":"","group":"Position","extraInformation":[],"name":"Distance"},{"value":"0","type":"Number","unit":"Pixel","label":"X offset","description":"","group":"Position","extraInformation":[],"name":"OffsetX"},{"value":"0","type":"Number","unit":"Pixel","label":"Y offset","description":"","group":"Position","extraInformation":[],"name":"OffsetY"},{"value":"0","type":"Number","unit":"Pixel","label":"Z offset","description":"","group":"Position","extraInformation":[],"name":"OffsetZ"},{"value":"0","type":"Number","unit":"DegreeAngle","label":"Rotation angle offset","description":"","group":"Position","extraInformation":[],"name":"RotationAngleOffset"},{"value":"20","type":"Number","unit":"DegreeAngle","label":"Elevation angle offset","description":"","group":"Position","extraInformation":[],"name":"ElevationAngleOffset"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area top border on Z axis","description":"","group":"Position","extraInformation":[],"advanced":true,"name":"FollowFreeAreaZMax"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area bottom border on Z axis","description":"","group":"Position","extraInformation":[],"advanced":true,"name":"FollowFreeAreaZMin"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"RotationLogSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TranslationZLogSpeed"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsCalledManually"},{"value":"0","type":"Number","unit":"Pixel","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CameraZ"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Camera","extensionNamespace":"","fullName":"First person 3D camera","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjcsMTZjMCwwLTQuOSw3LTExLDdTNSwxNiw1LDE2czQuOS03LDExLTdTMjcsMTYsMjcsMTZ6Ii8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxNiIgY3k9IjE2IiByPSIzIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIzLDkgMywzIDksMyAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjksMjkgMywyOSAzLDIzICIvPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMjksMjMgMjksMjkgMjMsMjkgIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIyMywzIDI5LDMgMjksOSAiLz4NCjwvc3ZnPg0K","name":"FirstPersonCamera","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Security and Protection/e8248ffd504c314e6a9d9d560c3a0fdad3398a5f125ae6a4c0654d4e68c86376_Security and Protection_security_protection_eye_scan_lock.svg","shortDescription":"Move the camera to look though objects eyes.","version":"1.0.1","description":["Move the camera to look though objects eyes.","","This extension can be used with the \"Mouse pointer lock\" or \"Gamepad\" extension to build a first person camera."],"origin":{"identifier":"FirstPersonCamera","name":"gdevelop-extension-store"},"tags":["3d","camera","fps"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Move the camera to look though _PARAM1_ eyes. The object must look to the right when all its angles are 0 and the top of its head be toward Z+.","fullName":"Look through object eyes","functionType":"Action","group":"Layers and cameras","name":"LookFromObjectEyes","sentence":"Move the camera of _PARAM2_ to look though _PARAM1_ eyes","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CentreCamera"},"parameters":["","Object","","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","Object.Z()","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","Object.Z()","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraRotationX"},"parameters":["","=","- Object.RotationY() + 90","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraRotationY"},"parameters":["","=","Object.RotationX()","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"SetCameraAngle"},"parameters":["","=","Object.Angle() + 90","GetArgumentAsString(\"Layer\")",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Scene3D::Cube3DObject","type":"objectList"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]}],"externalLayouts":[],"externalSourceFiles":[]}